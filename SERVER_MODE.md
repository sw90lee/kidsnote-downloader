# ğŸš€ Kidsnote Downloader ì„œë²„ ëª¨ë“œ

Kidsnote Downloaderë¥¼ ì›¹ ì„œë²„ë¡œ ì‹¤í–‰í•˜ì—¬ ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì„¤ì¹˜ ë°©ë²•](#ì„¤ì¹˜-ë°©ë²•)
- [ì„œë²„ ì‹¤í–‰](#ì„œë²„-ì‹¤í–‰)
- [ì‚¬ìš©ë²•](#ì‚¬ìš©ë²•)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

## ğŸ”§ ì„¤ì¹˜ ë°©ë²•

### 1. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install express cors nodemon
```

### 2. ì„¤ì¹˜ í™•ì¸

```bash
npm list express cors
```

## ğŸš€ ì„œë²„ ì‹¤í–‰

### ë°©ë²• 1: í”„ë¡œë•ì…˜ ëª¨ë“œ

```bash
npm run server
```

### ë°©ë²• 2: ê°œë°œ ëª¨ë“œ (ìë™ ì¬ì‹œì‘)

```bash
npm run server:dev
```

### ë°©ë²• 3: ì§ì ‘ ì‹¤í–‰

```bash
node src/server.js
```

### ë°©ë²• 4: ì»¤ìŠ¤í…€ í¬íŠ¸

```bash
PORT=8080 npm run server
```

## ğŸŒ ì‚¬ìš©ë²•

### 1. ì›¹ ë¸Œë¼ìš°ì € ì ‘ì†

ì„œë²„ ì‹œì‘ í›„ ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ìŒ ì£¼ì†Œë¡œ ì ‘ì†:

```
http://localhost:3000
```

### 2. ì›¹ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©

1. **ë¡œê·¸ì¸**: í‚¤ì¦ˆë…¸íŠ¸ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. **ì˜µì…˜ ì„ íƒ**: ë‹¤ìš´ë¡œë“œ íƒ€ì…ê³¼ ì½˜í…ì¸  ì¢…ë¥˜ ì„ íƒ
3. **ìë…€ ì„ íƒ**: ìë…€ ëª©ë¡ì—ì„œ ì„ íƒ
4. **ë‹¤ìš´ë¡œë“œ ì„¤ì •**: ê²½ë¡œì™€ ë‚ ì§œ í•„í„° ì„¤ì •
5. **ë‹¤ìš´ë¡œë“œ ì‹¤í–‰**: ë‹¤ìš´ë¡œë“œ ì‹œì‘

### 3. ë‹¤ìš´ë¡œë“œ ê²½ë¡œ ì„¤ì •

ì„œë²„ ëª¨ë“œì—ì„œëŠ” ë‹¤ìš´ë¡œë“œ ê²½ë¡œë¥¼ ì§ì ‘ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤:

- **Linux/Mac**: `/home/ì‚¬ìš©ìëª…/Downloads/kidsnote`
- **Windows**: `C:\\Users\\ì‚¬ìš©ìëª…\\Downloads\\kidsnote`

## ğŸ“¡ API ë¬¸ì„œ

### ë¡œê·¸ì¸

```http
POST /api/login
Content-Type: application/json

{
  "id": "your_kidsnote_id",
  "password": "your_password"
}
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "result": {
    "sessionID": "session_string"
  }
}
```

### ìë…€ ëª©ë¡ ì¡°íšŒ

```http
POST /api/getID
Content-Type: application/json

{
  "session": "session_string",
  "type": "all",
  "urltype": "1"
}
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "result": {
    "children": [
      {
        "id": "child_id",
        "name": "ìë…€ì´ë¦„",
        "index": 1
      }
    ]
  }
}
```

### ë‹¤ìš´ë¡œë“œ ì‹¤í–‰

```http
POST /api/download
Content-Type: application/json

{
  "id": "child_id",
  "session": "session_string",
  "type": "all",
  "size": "all",
  "index": 1,
  "urltype": "1",
  "downloadPath": "/path/to/download",
  "startDate": "2024-01-01",
  "endDate": "2024-12-31"
}
```

### ë¡œê·¸ ì¡°íšŒ

```http
GET /api/logs
```

**ì‘ë‹µ:**
```json
{
  "logs": [
    {
      "timestamp": "2024-01-15T10:30:00.000Z",
      "message": "ë¡œê·¸ ë©”ì‹œì§€"
    }
  ]
}
```

### ë¡œê·¸ ì´ˆê¸°í™”

```http
DELETE /api/logs
```

## ğŸ’¡ íŠ¹ì§•

### ğŸ”„ ì‹¤ì‹œê°„ ë¡œê·¸

- ë‹¤ìš´ë¡œë“œ ì§„í–‰ ìƒí™©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸
- ë‚ ì§œë³„ ì™„ë£Œ ì•Œë¦¼
- ì„œë²„ ë¡œê·¸ì™€ í´ë¼ì´ì–¸íŠ¸ ë¡œê·¸ ë™ê¸°í™”

### ğŸ“± ë°˜ì‘í˜• UI

- ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬í†± ëª¨ë‘ ì§€ì›
- Electronê³¼ ë™ì¼í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ìë™ ëª¨ë“œ ê°ì§€ (Electron/ì„œë²„)

### ğŸ›¡ï¸ ë³´ì•ˆ

- CORS ì„¤ì •ìœ¼ë¡œ ì™¸ë¶€ ì ‘ê·¼ ì œí•œ
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦
- ë¯¼ê°í•œ ì •ë³´ ë¡œê¹… ë°©ì§€

## ğŸ” ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘

```bash
# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
PORT=8080 npm run server

# ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
lsof -ti:3000 | xargs kill -9
```

### ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ë¬¸ì œ

```bash
# íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install
```

### ë‹¤ìš´ë¡œë“œ ê²½ë¡œ ì˜¤ë¥˜

- ê²½ë¡œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
- ì“°ê¸° ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸
- ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš© ê¶Œì¥

### ë©”ëª¨ë¦¬ ë¶€ì¡±

```bash
# Node.js ë©”ëª¨ë¦¬ ì œí•œ ì¦ê°€
node --max-old-space-size=4096 src/server.js
```

## ğŸŒŸ ê³ ê¸‰ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

```bash
# .env íŒŒì¼ ìƒì„±
PORT=3000
NODE_ENV=production
MAX_DOWNLOAD_SIZE=1000
```

### PM2ë¡œ í”„ë¡œë•ì…˜ ì‹¤í–‰

```bash
# PM2 ì„¤ì¹˜
npm install -g pm2

# ì„œë²„ ì‹œì‘
pm2 start src/server.js --name "kidsnote-server"

# ìƒíƒœ í™•ì¸
pm2 status

# ë¡œê·¸ í™•ì¸
pm2 logs kidsnote-server
```

### Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade \$http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host \$host;
        proxy_cache_bypass \$http_upgrade;
    }
}
```

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### 1. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

- ìµœëŒ€ 1000ê°œ ë¡œê·¸ë§Œ ë©”ëª¨ë¦¬ì— ìœ ì§€
- ë¶ˆí•„ìš”í•œ ë³€ìˆ˜ ì •ë¦¬
- ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ìµœì í™”

### 2. ë„¤íŠ¸ì›Œí¬ ìµœì í™”

- ì •ì  íŒŒì¼ ìºì‹±
- gzip ì••ì¶• í™œì„±í™”
- Keep-Alive ì—°ê²° ì‚¬ìš©

### 3. ë³´ì•ˆ ê°•í™”

- Rate limiting ì ìš©
- ì…ë ¥ ê°’ ê²€ì¦
- SQL ì¸ì ì…˜ ë°©ì§€

## ğŸ†š Electron vs ì„œë²„ ëª¨ë“œ ë¹„êµ

| ê¸°ëŠ¥ | Electron | ì„œë²„ ëª¨ë“œ |
|------|----------|-----------|
| ì„¤ì¹˜ | ë°ìŠ¤í¬í†± ì•± | ë¸Œë¼ìš°ì € |
| íŒŒì¼ ë‹¤ì´ì–¼ë¡œê·¸ | âœ… | âŒ (ì§ì ‘ ì…ë ¥) |
| ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ | âœ… | âœ… |
| ì›ê²© ì ‘ê·¼ | âŒ | âœ… |
| ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ | ë†’ìŒ | ë‚®ìŒ |
| ì—…ë°ì´íŠ¸ | ì¬ì„¤ì¹˜ í•„ìš” | ì„œë²„ ì¬ì‹œì‘ë§Œ |

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒì„ í™•ì¸í•´ì£¼ì„¸ìš”:

1. Node.js ë²„ì „ (v14 ì´ìƒ ê¶Œì¥)
2. ë°©í™”ë²½ ì„¤ì •
3. í¬íŠ¸ ì¶©ëŒ
4. íŒŒì¼ ê¶Œí•œ

ë” ìì„¸í•œ ë„ì›€ì´ í•„ìš”í•˜ì‹œë©´ Issuesë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.