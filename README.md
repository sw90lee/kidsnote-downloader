# 🎒 Kidsnote Downloader

키즈노트의 사진과 동영상을 쉽게 다운로드할 수 있는 도구입니다.
- 90퍼 기능은 자체 개발 나머지 10퍼(날짜 필터링)은 바이브코딩으로 개발하였고, css기능과 서버 기능도 바이브코딩으로 개발했습니다.

## ✨ 주요 기능

- 🔐 **안전한 로그인**: 키즈노트 계정으로 안전하게 로그인
- 👶 **자녀 선택**: 등록된 자녀 중 선택하여 다운로드
- 📸 **미디어 다운로드**: 사진과 동영상을 선택적으로 다운로드
- 📅 **날짜 필터링**: 캘린더로 쉽게 날짜 범위 선택
- 📋 **콘텐츠 분류**: 알림장과 앨범을 구분하여 다운로드
- 🎯 **스마트 네이밍**: 날짜-반-이름 형식으로 자동 파일명 생성
- 📊 **날짜별 완료 알림**: 각 날짜의 다운로드 완료 상황을 실시간 확인

## 🚀 실행 방법

### 1. Electron 앱으로 실행 (권장)

```bash
# 의존성 설치
npm install

# 앱 실행
npm start
```

### 2. 웹 서버로 실행 ⭐ 새로운 기능!

```bash
# 서버용 의존성 추가 설치
npm install express cors

# 서버 실행
npm run server

# 브라우저에서 접속
# http://localhost:3000
```

자세한 서버 모드 사용법은 [SERVER_MODE.md](SERVER_MODE.md)를 참조하세요.

## 🛠️ 시스템 요구사항

- **Node.js**: v14 이상
- **운영체제**: Windows, macOS, Linux
- **메모리**: 최소 2GB RAM
- **디스크**: 다운로드할 파일 용량만큼 여유 공간

## 📖 사용법

### 1단계: 로그인
- 키즈노트 아이디와 비밀번호를 입력
- 로그인 버튼 클릭 또는 Enter 키

### 2단계: 옵션 선택
- **다운로드 타입**: 사진만 / 동영상만 / 사진+동영상
- **콘텐츠 종류**: 알림장 / 앨범

### 3단계: 다운로드 설정
- **자녀 선택**: 등록된 자녀 중 선택
- **다운로드 경로**: 저장할 폴더 선택 (Electron) 또는 직접 입력 (서버)
- **날짜 필터**: 캘린더로 시작일과 종료일 설정 (선택사항)
- **다운로드 범위**: 전체 다운로드시 'all', 제한시 숫자 입력

### 4단계: 다운로드 실행
- 다운로드 시작 버튼 클릭
- 진행 상황을 실시간 로그로 확인

## 📅 새로운 기능 - 날짜별 완료 알림

이제 다운로드 진행 중에 날짜별로 완료 상황을 확인할 수 있습니다:

```
📅 2024-01-15 날짜 데이터 처리를 시작합니다...
[파일 다운로드 진행...]
📅 2024-01-15 날짜의 다운로드가 완료되었습니다. (12개 항목)

📅 2024-01-16 날짜 데이터 처리를 시작합니다...
[파일 다운로드 진행...]
📅 2024-01-16 날짜의 다운로드가 완료되었습니다. (8개 항목)

✅ 총 2개 날짜의 데이터 처리가 완료되었습니다.
📊 처리된 날짜: 2024-01-15, 2024-01-16
```

## 파일 명명 규칙

다운로드된 파일은 다음과 같은 형식으로 저장됩니다:

### 알림장 (Reports)
```
{날짜}-{반이름}-{자녀이름}-{파일ID}.{확장자}
예: 2024년01월15일-장미반-홍길동-12345.jpg
```

### 앨범 (Albums)
```
{날짜}-{자녀이름}-{파일ID}.{확장자}
예: 2024년01월15일-홍길동-12345.jpg
```

## 🔧 스크립트 명령어

```bash
# Electron 앱 실행
npm start

# 웹 서버 실행 (포트 3000)
npm run server

# 개발 모드 서버 (자동 재시작)
npm run server:dev

# Electron 앱 빌드
npm run make

# Electron 앱 패키징
npm run package
```

## 🌐 브라우저 호환성

서버 모드에서 지원하는 브라우저:

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 📁 파일 구조

```
kidsnote-downloader/
├── src/
│   ├── main.js          # Electron 메인 프로세스
│   ├── server.js        # Express 서버
│   ├── downloader.js    # 다운로드 핵심 로직
│   ├── preload.js       # Electron preload 스크립트
│   ├── renderer.js      # Electron 렌더러 스크립트
│   ├── renderer-server.js # 서버 모드용 클라이언트
│   ├── index.html       # 메인 UI
│   └── styles.css       # 스타일시트
├── package.json
├── README.md
└── SERVER_MODE.md       # 서버 모드 상세 가이드
```

## 🆚 Electron vs 서버 모드 비교

| 기능 | Electron | 서버 모드 |
|------|----------|-----------|
| 설치 | 데스크톱 앱 | 브라우저 |
| 파일 다이얼로그 | ✅ | ❌ (직접 입력) |
| 백그라운드 실행 | ✅ | ✅ |
| 원격 접근 | ❌ | ✅ |
| 리소스 사용량 | 높음 | 낮음 |
| 업데이트 | 재설치 필요 | 서버 재시작만 |

## 🔒 보안 및 개인정보

- **로컬 실행**: 모든 처리가 사용자 컴퓨터에서 실행됩니다
- **정보 저장 안함**: 로그인 정보나 개인정보를 저장하지 않습니다
- **HTTPS 통신**: 키즈노트 서버와의 모든 통신은 HTTPS로 암호화됩니다

## 🐛 문제 해결

### 로그인 실패
- 아이디/비밀번호 확인
- 키즈노트 웹사이트에서 정상 로그인 가능한지 확인

### 다운로드 실패
- 인터넷 연결 상태 확인
- 다운로드 경로의 쓰기 권한 확인
- 충분한 디스크 공간 확인

### 서버 실행 오류
```bash
# 포트 충돌 해결
PORT=8080 npm run server

# 의존성 재설치
rm -rf node_modules
npm install
```

### 날짜 필터링 관련
- 날짜 형식이 올바른지 확인 (YYYY-MM-DD)
- 시작 날짜가 종료 날짜보다 늦지 않은지 확인

## 📊 성능 최적화

- **배치 다운로드**: 여러 파일을 효율적으로 처리
- **재시도 로직**: 네트워크 오류 시 자동 재시도
- **메모리 관리**: 대용량 다운로드 시에도 안정적 동작
- **진행률 표시**: 실시간 다운로드 상태 확인

## 🤝 기여하기

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## 📄 라이선스

이 프로젝트는 개인적 용도로만 사용하시기 바랍니다.

## 📞 지원

문제가 발생하거나 궁금한 점이 있으시면 GitHub Issues를 통해 문의해주세요.

---

**⚠️ 주의사항**: 이 도구는 개인적인 용도로만 사용하시고, 키즈노트의 이용약관을 준수해주세요.