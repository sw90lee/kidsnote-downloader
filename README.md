# Kidsnote Downloader

Kidsnote에서 자녀의 사진과 동영상을 다운로드할 수 있는 Electron 애플리케이션입니다.

## 기능

- Kidsnote 로그인을 통한 인증
- 자녀별 사진/동영상 다운로드
- 알림장 및 앨범 타입 선택
- 사용자 정의 다운로드 경로 설정
- **날짜별 필터링 다운로드** (새로운 기능)
- 일괄 다운로드 지원

## 시스템 요구사항

- Node.js 14.x 이상
- Electron 8.x
- Windows, macOS, Linux 지원

## 설치

1. 저장소 클론
```bash
git clone <repository-url>
cd kidsnote-downloader
```

2. 의존성 설치
```bash
npm install
# 또는
yarn install
```

## 실행

```bash
npm start
# 또는
yarn start
```

## 사용법

### 1. 로그인
- Kidsnote 아이디와 패스워드를 입력합니다.
- '로그인' 버튼을 클릭하여 인증을 완료합니다.

### 2. 다운로드 옵션 선택
- **타입 선택**: 사진, 동영상, 또는 사진+동영상
- **카테고리 선택**: 알림장 또는 앨범

### 3. 자녀 선택
- 등록된 자녀 목록에서 다운로드할 자녀를 선택합니다.

### 4. 다운로드 설정
- **다운로드 경로**: '경로 변경' 버튼을 클릭하여 저장할 폴더를 선택합니다.
- **날짜 필터** (새로운 기능):
  - 시작 날짜: 해당 날짜 이후의 파일만 다운로드
  - 종료 날짜: 해당 날짜 이전의 파일만 다운로드
  - 둘 다 비워두면 전체 기간의 파일을 다운로드합니다.
- **페이지 수**: 다운로드할 페이지 수를 입력하거나 'all'을 입력하여 전체 다운로드

### 5. 다운로드 실행
- '다운로드' 버튼을 클릭하여 시작합니다.
- 진행 상황은 하단의 로그 창에서 확인할 수 있습니다.

## 파일 명명 규칙

다운로드된 파일은 다음과 같은 형식으로 저장됩니다:

### 알림장 (Reports)
```
{날짜}-{반이름}-{자녀이름}-{파일ID}.{확장자}
예: 2024년01월15일-장미반-홍길동-12345.jpg
```

### 앨범 (Albums)
```
{날짜}-{자녀이름}-{파일ID}.{확장자}
예: 2024년01월15일-홍길동-12345.jpg
```

## 새로운 기능: 날짜별 필터링

v1.1.0부터 날짜 범위를 지정하여 특정 기간의 파일만 다운로드할 수 있습니다.

### 사용 예시:
- **특정 월**: 2024-01-01 ~ 2024-01-31
- **특정 주**: 2024-01-15 ~ 2024-01-21
- **특정 날짜 이후**: 2024-01-01 ~ (종료날짜 비워둠)
- **특정 날짜 이전**: (시작날짜 비워둠) ~ 2024-01-31

### 주의사항:
- 시작 날짜가 종료 날짜보다 늦으면 오류가 발생합니다.
- 날짜 필터를 사용하지 않으려면 두 필드 모두 비워두세요.

## 빌드

### 개발용 빌드
```bash
npm run package
```

### 배포용 빌드
```bash
npm run make
```

## 프로젝트 구조

```
kidsnote-downloader/
├── src/
│   ├── main.js          # Electron 메인 프로세스
│   ├── renderer.js      # 렌더러 프로세스 (UI 로직)
│   ├── downloader.js    # 다운로드 로직 및 API 호출
│   ├── preload.js       # 프리로드 스크립트
│   ├── index.html       # 메인 UI
│   └── styles.css       # 스타일시트
├── package.json
└── README.md
```

## 주요 변경사항

### v1.1.0
- 날짜별 필터링 기능 추가
- UI에 날짜 입력 필드 추가
- 날짜 유효성 검사 기능
- 다운로드 로그에 날짜 필터 정보 표시

## 보안 주의사항

- 로그인 정보는 로컬에 저장되지 않습니다.
- 세션은 앱 종료 시 자동으로 만료됩니다.
- HTTPS를 사용하여 안전하게 통신합니다.

## 문제 해결

### 로그인 실패
- Kidsnote 아이디와 패스워드를 다시 확인해주세요.
- 네트워크 연결 상태를 확인해주세요.

### 다운로드 실패
- 다운로드 경로에 쓰기 권한이 있는지 확인해주세요.
- 디스크 용량이 충분한지 확인해주세요.
- 세션이 만료되었을 수 있습니다. 다시 로그인해주세요.

### 날짜 필터링 관련
- 날짜 형식이 올바른지 확인해주세요 (YYYY-MM-DD).
- 시작 날짜가 종료 날짜보다 늦지 않은지 확인해주세요.

## 라이선스

이 프로젝트는 개인 사용 목적으로 제작되었습니다.

## 작성자

leesungwoo

## 기여

버그 리포트나 기능 제안은 이슈를 통해 남겨주세요.